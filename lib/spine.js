//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BpbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc3BpbmUuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Q0FBQSxLQUFBLHFHQUFBO0tBQUE7Ozs7aUJBQUE7Q0FBQTtDQUFBLENBQUEsQ0FDQyxHQUREO0NBQ0MsQ0FBTyxDQUFBLENBQU4sSUFBTSxDQUFDO0NBQ0wsU0FBQSxnQkFBQTtDQUFBLENBQVUsQ0FBVixFQUFRLENBQVI7Q0FBQSxFQUNRLENBQUMsQ0FBVCxDQUFBLE1BQVEsRUFBQTtBQUVSLENBQUEsVUFBQSwrQkFBQTt3QkFBQTtDQUNFLEVBQWdCLENBQVYsQ0FBQSxHQUFOO0NBQUEsR0FDTSxDQUFBLEdBQU47Q0FGRixNQUhBO0NBREksWUFPSjtDQVBILElBQU87Q0FBUCxDQVNNLENBQUwsQ0FBQSxJQUFLLENBQUM7Q0FDSCxDQUFELENBQVUsQ0FBVCxLQUFTLElBQVY7Q0FDRSxDQUFBLEVBQUMsRUFBRCxFQUFBLENBQXFCO0NBQ1osQ0FBWSxFQUFyQixDQUFBLEdBQVEsQ0FBUixNQUFBO0NBRkYsTUFBVTtDQVZiLElBU007Q0FUTixDQWNVLENBQUEsQ0FBVCxHQUFBLEVBQVM7Q0FDUCxTQUFBLDhCQUFBO0NBQUEsS0FEUSxpREFDUjtDQUFBLENBQUEsQ0FBSyxDQUFJLENBQUosQ0FBTDtDQUFBLENBRXNELENBQS9DLENBQVAsRUFBQSxNQUFPLEVBQUE7QUFDTyxDQUFkLEdBQUEsRUFBQTtDQUFBLGFBQUE7UUFIQTtBQUtBLENBQUEsVUFBQSxnQ0FBQTs2QkFBQTtDQUNFLENBQXdCLEVBQXJCLENBQUEsR0FBSDtDQUNFLGVBREY7VUFERjtDQUFBLE1BTEE7Q0FETyxZQVNQO0NBdkJILElBY1U7Q0FkVixDQXlCUyxDQUFBLENBQVIsRUFBQSxFQUFRLENBQUM7Q0FDUCxTQUFBLHVDQUFBO0FBQU8sQ0FBUCxDQUFBLEVBQUEsRUFBQTtDQUNFLENBQUEsQ0FBYyxDQUFiLElBQUQsRUFBQTtDQUNBLEdB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VUFHWjtDQWppQkYsRUE4aEJjOztDQTloQmQsQ0FtaUJBLENBQWMsRUFBVCxDQW5pQkw7Q0FBQSIsInNvdXJjZXNDb250ZW50IjpbIkV2ZW50cyA9XG4gIGJpbmQ6IChldiwgY2FsbGJhY2spIC0+XG4gICAgZXZzICAgPSBldi5zcGxpdCgnICcpXG4gICAgY2FsbHMgPSBAaGFzT3duUHJvcGVydHkoJ19jYWxsYmFja3MnKSBhbmQgQF9jYWxsYmFja3Mgb3I9IHt9XG5cbiAgICBmb3IgbmFtZSBpbiBldnNcbiAgICAgIGNhbGxzW25hbWVdIG9yPSBbXVxuICAgICAgY2FsbHNbbmFtZV0ucHVzaChjYWxsYmFjaylcbiAgICB0aGlzXG5cbiAgb25lOiAoZXYsIGNhbGxiYWNrKSAtPlxuICAgIEBiaW5kIGV2LCAtPlxuICAgICAgQHVuYmluZChldiwgYXJndW1lbnRzLmNhbGxlZSlcbiAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblxuICB0cmlnZ2VyOiAoYXJncy4uLikgLT5cbiAgICBldiA9IGFyZ3Muc2hpZnQoKVxuXG4gICAgbGlzdCA9IEBoYXNPd25Qcm9wZXJ0eSgnX2NhbGxiYWNrcycpIGFuZCBAX2NhbGxiYWNrcz9bZXZdXG4gICAgcmV0dXJuIHVubGVzcyBsaXN0XG5cbiAgICBmb3IgY2FsbGJhY2sgaW4gbGlzdFxuICAgICAgaWYgY2FsbGJhY2suYXBwbHkodGhpcywgYXJncykgaXMgZmFsc2VcbiAgICAgICAgYnJlYWtcbiAgICB0cnVlXG5cbiAgdW5iaW5kOiAoZXYsIGNhbGxiYWNrKSAtPlxuICAgIHVubGVzcyBldlxuICAgICAgQF9jYWxsYmFja3MgPSB7fVxuICAgICAgcmV0dXJuIHRoaXNcblxuICAgIGV2cyAgPSBldi5zcGxpdCgnICcpXG4gICAgZm9yIG5hbWUgaW4gZXZzXG4gICAgICBsaXN0ID0gQF9jYWxsYmFja3M/W25hbWVdXG4gICAgICBjb250aW51ZSB1bmxlc3MgbGlzdFxuXG4gICAgICB1bmxlc3MgY2FsbGJhY2tcbiAgICAgICAgZGVsZXRlIEBfY2FsbGJhY2tzW25hbWVdXG4gICAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGZvciBjYiwgaSBpbiBsaXN0IHdoZW4gY2IgaXMgY2FsbGJhY2tcbiAgICAgICAgbGlzdCA9IGxpc3Quc2xpY2UoKVxuICAgICAgICBsaXN0LnNwbGljZShpLCAxKVxuICAgICAgICBAX2NhbGxiYWNrc1tuYW1lXSA9IGxpc3RcbiAgICAgICAgYnJlYWtcbiAgICB0aGlzXG5cbkV2ZW50cy5vbiA9IEV2ZW50cy5iaW5kXG5FdmVudHMub2ZmID0gRXZlbnRzLnVuYmluZFxuXG5Mb2cgPVxuICB0cmFjZTogdHJ1ZVxuXG4gIGxvZ1ByZWZpeDogJyhBcHApJ1xuXG4gIGxvZzogKGFyZ3MuLi4pIC0+XG4gICAgcmV0dXJuIHVubGVzcyBAdHJhY2VcbiAgICBpZiBAbG9nUHJlZml4IHRoZW4gYXJncy51bnNoaWZ0KEBsb2dQcmVmaXgpXG4gICAgY29uc29sZT8ubG9nPyhhcmdzLi4uKVxuICAgIHRoaXNcblxubW9kdWxlS2V5d29yZHMgPSBbJ2luY2x1ZGVkJywgJ2V4dGVuZGVkJ11cblxuY2xhc3MgTW9kdWxlXG4gIEBpbmNsdWRlOiAob2JqKSAtPlxuICAgIHRocm93IG5ldyBFcnJvcignaW5jbHVkZShvYmopIHJlcXVpcmVzIG9iaicpIHVubGVzcyBvYmpcbiAgICBmb3Iga2V5LCB2YWx1ZSBvZiBvYmogd2hlbiBrZXkgbm90IGluIG1vZHVsZUtleXdvcmRzXG4gICAgICBAOjpba2V5XSA9IHZhbHVlXG4gICAgb2JqLmluY2x1ZGVkPy5hcHBseSh0aGlzKVxuICAgIHRoaXNcblxuICBAZXh0ZW5kOiAob2JqKSAtPlxuICAgIHRocm93IG5ldyBFcnJvcignZXh0ZW5kKG9iaikgcmVxdWlyZXMgb2JqJykgdW5sZXNzIG9ialxuICAgIGZvciBrZXksIHZhbHVlIG9mIG9iaiB3aGVuIGtleSBub3QgaW4gbW9kdWxlS2V5d29yZHNcbiAgICAgIEBba2V5XSA9IHZhbHVlXG4gICAgb2JqLmV4dGVuZGVkPy5hcHBseSh0aGlzKVxuICAgIHRoaXNcblxuICBAcHJveHk6IChmdW5jKSAtPlxuICAgID0+IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG4gIHByb3h5OiAoZnVuYykgLT5cbiAgICA9PiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblxuICBjb25zdHJ1Y3RvcjogLT5cbiAgICBAaW5pdD8oYXJndW1lbnRzLi4uKVxuXG5jbGFzcyBNb2RlbCBleHRlbmRzIE1vZHVsZVxuICBAZXh0ZW5kIEV2ZW50c1xuXG4gIEByZWNvcmRzOiB7fVxuICBAY3JlY29yZHM6IHt9XG4gIEBhdHRyaWJ1dGVzOiBbXVxuXG4gIEBjb25maWd1cmU6IChuYW1lLCBhdHRyaWJ1dGVzLi4uKSAtPlxuICAgIEBjbGFzc05hbWUgID0gbmFtZVxuICAgIEByZWNvcmRzICAgID0ge31cbiAgICBAY3JlY29yZHMgICA9IHt9XG4gICAgQGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzIGlmIGF0dHJpYnV0ZXMubGVuZ3RoXG4gICAgQGF0dHJpYnV0ZXMgYW5kPSBtYWtlQXJyYXkoQGF0dHJpYnV0ZXMpXG4gICAgQGF0dHJpYnV0ZXMgb3I9ICBbXVxuICAgIEB1bmJpbmQoKVxuICAgIHRoaXNcblxuICBAdG9TdHJpbmc6IC0+IFwiI3tAY2xhc3NOYW1lfSgje0BhdHRyaWJ1dGVzLmpvaW4oXCIsIFwiKX0pXCJcblxuICBAZmluZDogKGlkKSAtPlxuICAgIHJlY29yZCA9IEByZWNvcmRzW2lkXVxuICAgIGlmICFyZWNvcmQgYW5kIChcIiN7aWR9XCIpLm1hdGNoKC9jLVxcZCsvKVxuICAgICAgcmV0dXJuIEBmaW5kQ0lEKGlkKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlxcXCIje0BjbGFzc05hbWV9XFxcIiBtb2RlbCBjb3VsZCBub3QgZmluZCBhIHJlY29yZCBmb3IgdGhlIElEIFxcXCIje2lkfVxcXCJcIikgdW5sZXNzIHJlY29yZFxuICAgIHJlY29yZC5jbG9uZSgpXG5cbiAgQGZpbmRDSUQ6IChjaWQpIC0+XG4gICAgcmVjb3JkID0gQGNyZWNvcmRzW2NpZF1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXFwiI3tAY2xhc3NOYW1lfVxcXCIgbW9kZWwgY291bGQgbm90IGZpbmQgYSByZWNvcmQgZm9yIHRoZSBJRCBcXFwiI3tpZH1cXFwiXCIpIHVubGVzcyByZWNvcmRcbiAgICByZWNvcmQuY2xvbmUoKVxuXG4gIEBleGlzdHM6IChpZCkgLT5cbiAgICB0cnlcbiAgICAgIHJldHVybiBAZmluZChpZClcbiAgICBjYXRjaCBlXG4gICAgICByZXR1cm4gZmFsc2VcblxuICBAcmVmcmVzaDogKHZhbHVlcywgb3B0aW9ucyA9IHt9KSAtPlxuICAgIGlmIG9wdGlvbnMuY2xlYXJcbiAgICAgIEByZWNvcmRzICA9IHt9XG4gICAgICBAY3JlY29yZHMgPSB7fVxuXG4gICAgcmVjb3JkcyA9IEBmcm9tSlNPTih2YWx1ZXMpXG4gICAgcmVjb3JkcyA9IFtyZWNvcmRzXSB1bmxlc3MgaXNBcnJheShyZWNvcmRzKVxuXG4gICAgZm9yIHJlY29yZCBpbiByZWNvcmRzXG4gICAgICByZWNvcmQuaWQgICAgICAgICAgIG9yPSByZWNvcmQuY2lkXG4gICAgICBAcmVjb3Jkc1tyZWNvcmQuaWRdICAgPSByZWNvcmRcbiAgICAgIEBjcmVjb3Jkc1tyZWNvcmQuY2lkXSA9IHJlY29yZFxuXG4gICAgQHRyaWdnZXIoJ3JlZnJlc2gnLCBAY2xvbmVBcnJheShyZWNvcmRzKSlcbiAgICB0aGlzXG5cbiAgQHNlbGVjdDogKGNhbGxiYWNrKSAtPlxuICAgIHJlc3VsdCA9IChyZWNvcmQgZm9yIGlkLCByZWNvcmQgb2YgQHJlY29yZHMgd2hlbiBjYWxsYmFjayhyZWNvcmQpKVxuICAgIEBjbG9uZUFycmF5KHJlc3VsdClcblxuICBAZmluZEJ5QXR0cmlidXRlOiAobmFtZSwgdmFsdWUpIC0+XG4gICAgZm9yIGlkLCByZWNvcmQgb2YgQHJlY29yZHNcbiAgICAgIGlmIHJlY29yZFtuYW1lXSBpcyB2YWx1ZVxuICAgICAgICByZXR1cm4gcmVjb3JkLmNsb25lKClcbiAgICBudWxsXG5cbiAgQGZpbmRBbGxCeUF0dHJpYnV0ZTogKG5hbWUsIHZhbHVlKSAtPlxuICAgIEBzZWxlY3QgKGl0ZW0pIC0+XG4gICAgICBpdGVtW25hbWVdIGlzIHZhbHVlXG5cbiAgQGVhY2g6IChjYWxsYmFjaykgLT5cbiAgICBmb3Iga2V5LCB2YWx1ZSBvZiBAcmVjb3Jkc1xuICAgICAgY2FsbGJhY2sodmFsdWUuY2xvbmUoKSlcblxuICBAYWxsOiAtPlxuICAgIEBjbG9uZUFycmF5KEByZWNvcmRzVmFsdWVzKCkpXG5cbiAgQGZpcnN0OiAtPlxuICAgIHJlY29yZCA9IEByZWNvcmRzVmFsdWVzKClbMF1cbiAgICByZWNvcmQ/LmNsb25lKClcblxuICBAbGFzdDogLT5cbiAgICB2YWx1ZXMgPSBAcmVjb3Jkc1ZhbHVlcygpXG4gICAgcmVjb3JkID0gdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXVxuICAgIHJlY29yZD8uY2xvbmUoKVxuXG4gIEBjb3VudDogLT5cbiAgICBAcmVjb3Jkc1ZhbHVlcygpLmxlbmd0aFxuXG4gIEBkZWxldGVBbGw6IC0+XG4gICAgZm9yIGtleSwgdmFsdWUgb2YgQHJlY29yZHNcbiAgICAgIGRlbGV0ZSBAcmVjb3Jkc1trZXldXG5cbiAgQGRlc3Ryb3lBbGw6IChvcHRpb25zKSAtPlxuICAgIGZvciBrZXksIHZhbHVlIG9mIEByZWNvcmRzXG4gICAgICBAcmVjb3Jkc1trZXldLmRlc3Ryb3kob3B0aW9ucylcblxuICBAdXBkYXRlOiAoaWQsIGF0dHMsIG9wdGlvbnMpIC0+XG4gICAgQGZpbmQoaWQpLnVwZGF0ZUF0dHJpYnV0ZXMoYXR0cywgb3B0aW9ucylcblxuICBAY3JlYXRlOiAoYXR0cywgb3B0aW9ucykgLT5cbiAgICByZWNvcmQgPSBuZXcgQChhdHRzKVxuICAgIHJlY29yZC5zYXZlKG9wdGlvbnMpXG5cbiAgQGRlc3Ryb3k6IChpZCwgb3B0aW9ucykgLT5cbiAgICBAZmluZChpZCkuZGVzdHJveShvcHRpb25zKVxuXG4gIEBjaGFuZ2U6IChjYWxsYmFja09yUGFyYW1zKSAtPlxuICAgIGlmIHR5cGVvZiBjYWxsYmFja09yUGFyYW1zIGlzICdmdW5jdGlvbidcbiAgICAgIEBiaW5kKCdjaGFuZ2UnLCBjYWxsYmFja09yUGFyYW1zKVxuICAgIGVsc2VcbiAgICAgIEB0cmlnZ2VyKCdjaGFuZ2UnLCBjYWxsYmFja09yUGFyYW1zKVxuXG4gIEBmZXRjaDogKGNhbGxiYWNrT3JQYXJhbXMpIC0+XG4gICAgaWYgdHlwZW9mIGNhbGxiYWNrT3JQYXJhbXMgaXMgJ2Z1bmN0aW9uJ1xuICAgICAgQGJpbmQoJ2ZldGNoJywgY2FsbGJhY2tPclBhcmFtcylcbiAgICBlbHNlXG4gICAgICBAdHJpZ2dlcignZmV0Y2gnLCBjYWxsYmFja09yUGFyYW1zKVxuXG4gIEB0b0pTT046IC0+XG4gICAgQHJlY29yZHNWYWx1ZXMoKVxuXG4gIEBmcm9tSlNPTjogKG9iamVjdHMpIC0+XG4gICAgcmV0dXJuIHVubGVzcyBvYmplY3RzXG4gICAgaWYgdHlwZW9mIG9iamVjdHMgaXMgJ3N0cmluZydcbiAgICAgIG9iamVjdHMgPSBKU09OLnBhcnNlKG9iamVjdHMpXG4gICAgaWYgaXNBcnJheShvYmplY3RzKVxuICAgICAgKG5ldyBAKHZhbHVlKSBmb3IgdmFsdWUgaW4gb2JqZWN0cylcbiAgICBlbHNlXG4gICAgICBuZXcgQChvYmplY3RzKVxuXG4gIEBmcm9tRm9ybTogLT5cbiAgICAobmV3IHRoaXMpLmZyb21Gb3JtKGFyZ3VtZW50cy4uLilcblxuICAjIFByaXZhdGVcblxuICBAcmVjb3Jkc1ZhbHVlczogLT5cbiAgICByZXN1bHQgPSBbXVxuICAgIGZvciBrZXksIHZhbHVlIG9mIEByZWNvcmRzXG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSlcbiAgICByZXN1bHRcblxuICBAY2xvbmVBcnJheTogKGFycmF5KSAtPlxuICAgICh2YWx1ZS5jbG9uZSgpIGZvciB2YWx1ZSBpbiBhcnJheSlcblxuICBAaWRDb3VudGVyOiAwXG5cbiAgQHVpZDogKHByZWZpeCA9ICcnKSAtPlxuICAgIHVpZCA9IHByZWZpeCArIEBpZENvdW50ZXIrK1xuICAgIHVpZCA9IEB1aWQocHJlZml4KSBpZiBAZXhpc3RzKHVpZClcbiAgICB1aWRcblxuICAjIEluc3RhbmNlXG5cbiAgY29uc3RydWN0b3I6IChhdHRzKSAtPlxuICAgIHN1cGVyXG4gICAgQGxvYWQgYXR0cyBpZiBhdHRzXG4gICAgQGNpZCA9IEBjb25zdHJ1Y3Rvci51aWQoJ2MtJylcblxuICBpc05ldzogLT5cbiAgICBub3QgQGV4aXN0cygpXG5cbiAgaXNWYWxpZDogLT5cbiAgICBub3QgQHZhbGlkYXRlKClcblxuICB2YWxpZGF0ZTogLT5cblxuICBsb2FkOiAoYXR0cykgLT5cbiAgICBmb3Iga2V5LCB2YWx1ZSBvZiBhdHRzXG4gICAgICBpZiB0eXBlb2YgQFtrZXldIGlzICdmdW5jdGlvbidcbiAgICAgICAgQFtrZXldKHZhbHVlKVxuICAgICAgZWxzZVxuICAgICAgICBAW2tleV0gPSB2YWx1ZVxuICAgIHRoaXNcblxuICBhdHRyaWJ1dGVzOiAtPlxuICAgIHJlc3VsdCA9IHt9XG4gICAgZm9yIGtleSBpbiBAY29uc3RydWN0b3IuYXR0cmlidXRlcyB3aGVuIGtleSBvZiB0aGlzXG4gICAgICBpZiB0eXBlb2YgQFtrZXldIGlzICdmdW5jdGlvbidcbiAgICAgICAgcmVzdWx0W2tleV0gPSBAW2tleV0oKVxuICAgICAgZWxzZVxuICAgICAgICByZXN1bHRba2V5XSA9IEBba2V5XVxuICAgIHJlc3VsdC5pZCA9IEBpZCBpZiBAaWRcbiAgICByZXN1bHRcblxuICBlcWw6IChyZWMpIC0+XG4gICAgISEocmVjIGFuZCByZWMuY29uc3RydWN0b3IgaXMgQGNvbnN0cnVjdG9yIGFuZFxuICAgICAgICAocmVjLmNpZCBpcyBAY2lkKSBvciAocmVjLmlkIGFuZCByZWMuaWQgaXMgQGlkKSlcblxuICBzYXZlOiAob3B0aW9ucyA9IHt9KSAtPlxuICAgIHVubGVzcyBvcHRpb25zLnZhbGlkYXRlIGlzIGZhbHNlXG4gICAgICBlcnJvciA9IEB2YWxpZGF0ZSgpXG4gICAgICBpZiBlcnJvclxuICAgICAgICBAdHJpZ2dlcignZXJyb3InLCBlcnJvcilcbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICBAdHJpZ2dlcignYmVmb3JlU2F2ZScsIG9wdGlvbnMpXG4gICAgcmVjb3JkID0gaWYgQGlzTmV3KCkgdGhlbiBAY3JlYXRlKG9wdGlvbnMpIGVsc2UgQHVwZGF0ZShvcHRpb25zKVxuICAgIEBzdHJpcENsb25lQXR0cnMoKVxuICAgIEB0cmlnZ2VyKCdzYXZlJywgb3B0aW9ucylcbiAgICByZWNvcmRcblxuICBzdHJpcENsb25lQXR0cnM6IC0+XG4gICAgcmV0dXJuIGlmIEBoYXNPd25Qcm9wZXJ0eSAnY2lkJyAjIE1ha2Ugc3VyZSBpdCdzIG5vdCB0aGUgcmF3IG9iamVjdFxuICAgIGZvciBvd24ga2V5LCB2YWx1ZSBvZiBAXG4gICAgICBkZWxldGUgQFtrZXldIGlmIEBjb25zdHJ1Y3Rvci5hdHRyaWJ1dGVzLmluZGV4T2Yoa2V5KSA+IC0xXG4gICAgdGhpc1xuXG4gIHVwZGF0ZUF0dHJpYnV0ZTogKG5hbWUsIHZhbHVlLCBvcHRpb25zKSAtPlxuICAgIGF0dHMgPSB7fVxuICAgIGF0dHNbbmFtZV0gPSB2YWx1ZVxuICAgIEB1cGRhdGVBdHRyaWJ1dGVzKGF0dHMsIG9wdGlvbnMpXG5cbiAgdXBkYXRlQXR0cmlidXRlczogKGF0dHMsIG9wdGlvbnMpIC0+XG4gICAgQGxvYWQoYXR0cylcbiAgICBAc2F2ZShvcHRpb25zKVxuXG4gIGNoYW5nZUlEOiAoaWQpIC0+XG4gICAgcmVjb3JkcyA9IEBjb25zdHJ1Y3Rvci5yZWNvcmRzXG4gICAgcmVjb3Jkc1tpZF0gPSByZWNvcmRzW0BpZF1cbiAgICBkZWxldGUgcmVjb3Jkc1tAaWRdXG4gICAgQGlkID0gaWRcbiAgICBAc2F2ZSgpXG5cbiAgZGVzdHJveTogKG9wdGlvbnMgPSB7fSkgLT5cbiAgICBAdHJpZ2dlcignYmVmb3JlRGVzdHJveScsIG9wdGlvbnMpXG4gICAgZGVsZXRlIEBjb25zdHJ1Y3Rvci5yZWNvcmRzW0BpZF1cbiAgICBkZWxldGUgQGNvbnN0cnVjdG9yLmNyZWNvcmRzW0BjaWRdXG4gICAgQGRlc3Ryb3llZCA9IHRydWVcbiAgICBAdHJpZ2dlcignZGVzdHJveScsIG9wdGlvbnMpXG4gICAgQHRyaWdnZXIoJ2NoYW5nZScsICdkZXN0cm95Jywgb3B0aW9ucylcbiAgICBAdW5iaW5kKClcbiAgICB0aGlzXG5cbiAgZHVwOiAobmV3UmVjb3JkKSAtPlxuICAgIHJlc3VsdCA9IG5ldyBAY29uc3RydWN0b3IoQGF0dHJpYnV0ZXMoKSlcbiAgICBpZiBuZXdSZWNvcmQgaXMgZmFsc2VcbiAgICAgIHJlc3VsdC5jaWQgPSBAY2lkXG4gICAgZWxzZVxuICAgICAgZGVsZXRlIHJlc3VsdC5pZFxuICAgIHJlc3VsdFxuXG4gIGNsb25lOiAtPlxuICAgIGNyZWF0ZU9iamVjdCh0aGlzKVxuXG4gIHJlbG9hZDogLT5cbiAgICByZXR1cm4gdGhpcyBpZiBAaXNOZXcoKVxuICAgIG9yaWdpbmFsID0gQGNvbnN0cnVjdG9yLmZpbmQoQGlkKVxuICAgIEBsb2FkKG9yaWdpbmFsLmF0dHJpYnV0ZXMoKSlcbiAgICBvcmlnaW5hbFxuXG4gIHRvSlNPTjogLT5cbiAgICBAYXR0cmlidXRlcygpXG5cbiAgdG9TdHJpbmc6IC0+XG4gICAgXCI8I3tAY29uc3RydWN0b3IuY2xhc3NOYW1lfSAoI3tKU09OLnN0cmluZ2lmeSh0aGlzKX0pPlwiXG5cbiAgZnJvbUZvcm06IChmb3JtKSAtPlxuICAgIHJlc3VsdCA9IHt9XG4gICAgZm9yIGtleSBpbiAkKGZvcm0pLnNlcmlhbGl6ZUFycmF5KClcbiAgICAgIHJlc3VsdFtrZXkubmFtZV0gPSBrZXkudmFsdWVcbiAgICBAbG9hZChyZXN1bHQpXG5cbiAgZXhpc3RzOiAtPlxuICAgIEBpZCAmJiBAaWQgb2YgQGNvbnN0cnVjdG9yLnJlY29yZHNcblxuICAjIFByaXZhdGVcblxuICB1cGRhdGU6IChvcHRpb25zKSAtPlxuICAgIEB0cmlnZ2VyKCdiZWZvcmVVcGRhdGUnLCBvcHRpb25zKVxuICAgIHJlY29yZHMgPSBAY29uc3RydWN0b3IucmVjb3Jkc1xuICAgIHJlY29yZHNbQGlkXS5sb2FkIEBhdHRyaWJ1dGVzKClcbiAgICBjbG9uZSA9IHJlY29yZHNbQGlkXS5jbG9uZSgpXG4gICAgY2xvbmUudHJpZ2dlcigndXBkYXRlJywgb3B0aW9ucylcbiAgICBjbG9uZS50cmlnZ2VyKCdjaGFuZ2UnLCAndXBkYXRlJywgb3B0aW9ucylcbiAgICBjbG9uZVxuXG4gIGNyZWF0ZTogKG9wdGlvbnMpIC0+XG4gICAgQHRyaWdnZXIoJ2JlZm9yZUNyZWF0ZScsIG9wdGlvbnMpXG4gICAgQGlkICAgICAgICAgID0gQGNpZCB1bmxlc3MgQGlkXG5cbiAgICByZWNvcmQgICAgICAgPSBAZHVwKGZhbHNlKVxuICAgIEBjb25zdHJ1Y3Rvci5yZWNvcmRzW0BpZF0gICA9IHJlY29yZFxuICAgIEBjb25zdHJ1Y3Rvci5jcmVjb3Jkc1tAY2lkXSA9IHJlY29yZFxuXG4gICAgY2xvbmUgICAgICAgID0gcmVjb3JkLmNsb25lKClcbiAgICBjbG9uZS50cmlnZ2VyKCdjcmVhdGUnLCBvcHRpb25zKVxuICAgIGNsb25lLnRyaWdnZXIoJ2NoYW5nZScsICdjcmVhdGUnLCBvcHRpb25zKVxuICAgIGNsb25lXG5cbiAgYmluZDogKGV2ZW50cywgY2FsbGJhY2spIC0+XG4gICAgQGNvbnN0cnVjdG9yLmJpbmQgZXZlbnRzLCBiaW5kZXIgPSAocmVjb3JkKSA9PlxuICAgICAgaWYgcmVjb3JkICYmIEBlcWwocmVjb3JkKVxuICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgQGNvbnN0cnVjdG9yLmJpbmQgJ3VuYmluZCcsIHVuYmluZGVyID0gKHJlY29yZCkgPT5cbiAgICAgIGlmIHJlY29yZCAmJiBAZXFsKHJlY29yZClcbiAgICAgICAgQGNvbnN0cnVjdG9yLnVuYmluZChldmVudHMsIGJpbmRlcilcbiAgICAgICAgQGNvbnN0cnVjdG9yLnVuYmluZCgndW5iaW5kJywgdW5iaW5kZXIpXG4gICAgYmluZGVyXG5cbiAgb25lOiAoZXZlbnRzLCBjYWxsYmFjaykgLT5cbiAgICBiaW5kZXIgPSBAYmluZCBldmVudHMsID0+XG4gICAgICBAY29uc3RydWN0b3IudW5iaW5kKGV2ZW50cywgYmluZGVyKVxuICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG4gIHRyaWdnZXI6IChhcmdzLi4uKSAtPlxuICAgIGFyZ3Muc3BsaWNlKDEsIDAsIHRoaXMpXG4gICAgQGNvbnN0cnVjdG9yLnRyaWdnZXIoYXJncy4uLilcblxuICB1bmJpbmQ6IC0+XG4gICAgQHRyaWdnZXIoJ3VuYmluZCcpXG5cbmNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBNb2R1bGVcbiAgQGluY2x1ZGUgRXZlbnRzXG4gIEBpbmNsdWRlIExvZ1xuXG4gIGV2ZW50U3BsaXR0ZXI6IC9eKFxcUyspXFxzKiguKikkL1xuICB0YWc6ICdkaXYnXG5cbiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPlxuICAgIEBvcHRpb25zID0gb3B0aW9uc1xuXG4gICAgZm9yIGtleSwgdmFsdWUgb2YgQG9wdGlvbnNcbiAgICAgIEBba2V5XSA9IHZhbHVlXG5cbiAgICBAZWwgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChAdGFnKSB1bmxlc3MgQGVsXG4gICAgQGVsICA9ICQoQGVsKVxuICAgIEAkZWwgPSBAZWxcblxuICAgIEBlbC5hZGRDbGFzcyhAY2xhc3NOYW1lKSBpZiBAY2xhc3NOYW1lXG4gICAgQGVsLmF0dHIoQGF0dHJpYnV0ZXMpIGlmIEBhdHRyaWJ1dGVzXG5cbiAgICBAZXZlbnRzID0gQGNvbnN0cnVjdG9yLmV2ZW50cyB1bmxlc3MgQGV2ZW50c1xuICAgIEBlbGVtZW50cyA9IEBjb25zdHJ1Y3Rvci5lbGVtZW50cyB1bmxlc3MgQGVsZW1lbnRzXG5cbiAgICBAZGVsZWdhdGVFdmVudHMoQGV2ZW50cykgaWYgQGV2ZW50c1xuICAgIEByZWZyZXNoRWxlbWVudHMoKSBpZiBAZWxlbWVudHNcblxuICAgIHN1cGVyXG5cbiAgcmVsZWFzZTogPT5cbiAgICBAdHJpZ2dlciAncmVsZWFzZSdcbiAgICBAZWwucmVtb3ZlKClcbiAgICBAdW5iaW5kKClcblxuICAkOiAoc2VsZWN0b3IpIC0+ICQoc2VsZWN0b3IsIEBlbClcblxuICBkZWxlZ2F0ZUV2ZW50czogKGV2ZW50cykgLT5cbiAgICBmb3Iga2V5LCBtZXRob2Qgb2YgZXZlbnRzXG5cbiAgICAgIGlmIHR5cGVvZihtZXRob2QpIGlzICdmdW5jdGlvbidcbiAgICAgICAgIyBBbHdheXMgcmV0dXJuIHRydWUgZnJvbSBldmVudCBoYW5kbGVyc1xuICAgICAgICBtZXRob2QgPSBkbyAobWV0aG9kKSA9PiA9PlxuICAgICAgICAgIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgdHJ1ZVxuICAgICAgZWxzZVxuICAgICAgICB1bmxlc3MgQFttZXRob2RdXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiI3ttZXRob2R9IGRvZXNuJ3QgZXhpc3RcIilcblxuICAgICAgICBtZXRob2QgPSBkbyAobWV0aG9kKSA9PiA9PlxuICAgICAgICAgIEBbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgdHJ1ZVxuXG4gICAgICBtYXRjaCAgICAgID0ga2V5Lm1hdGNoKEBldmVudFNwbGl0dGVyKVxuICAgICAgZXZlbnROYW1lICA9IG1hdGNoWzFdXG4gICAgICBzZWxlY3RvciAgID0gbWF0Y2hbMl1cblxuICAgICAgaWYgc2VsZWN0b3IgaXMgJydcbiAgICAgICAgQGVsLmJpbmQoZXZlbnROYW1lLCBtZXRob2QpXG4gICAgICBlbHNlXG4gICAgICAgIEBlbC5kZWxlZ2F0ZShzZWxlY3RvciwgZXZlbnROYW1lLCBtZXRob2QpXG5cbiAgcmVmcmVzaEVsZW1lbnRzOiAtPlxuICAgIGZvciBrZXksIHZhbHVlIG9mIEBlbGVtZW50c1xuICAgICAgQFt2YWx1ZV0gPSBAJChrZXkpXG5cbiAgZGVsYXk6IChmdW5jLCB0aW1lb3V0KSAtPlxuICAgIHNldFRpbWVvdXQoQHByb3h5KGZ1bmMpLCB0aW1lb3V0IHx8IDApXG5cbiAgaHRtbDogKGVsZW1lbnQpIC0+XG4gICAgQGVsLmh0bWwoZWxlbWVudC5lbCBvciBlbGVtZW50KVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4gIGFwcGVuZDogKGVsZW1lbnRzLi4uKSAtPlxuICAgIGVsZW1lbnRzID0gKGUuZWwgb3IgZSBmb3IgZSBpbiBlbGVtZW50cylcbiAgICBAZWwuYXBwZW5kKGVsZW1lbnRzLi4uKVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4gIGFwcGVuZFRvOiAoZWxlbWVudCkgLT5cbiAgICBAZWwuYXBwZW5kVG8oZWxlbWVudC5lbCBvciBlbGVtZW50KVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4gIHByZXBlbmQ6IChlbGVtZW50cy4uLikgLT5cbiAgICBlbGVtZW50cyA9IChlLmVsIG9yIGUgZm9yIGUgaW4gZWxlbWVudHMpXG4gICAgQGVsLnByZXBlbmQoZWxlbWVudHMuLi4pXG4gICAgQHJlZnJlc2hFbGVtZW50cygpXG4gICAgQGVsXG5cbiAgcmVwbGFjZTogKGVsZW1lbnQpIC0+XG4gICAgW3ByZXZpb3VzLCBAZWxdID0gW0BlbCwgJChlbGVtZW50LmVsIG9yIGVsZW1lbnQpXVxuICAgIHByZXZpb3VzLnJlcGxhY2VXaXRoKEBlbClcbiAgICBAZGVsZWdhdGVFdmVudHMoQGV2ZW50cylcbiAgICBAcmVmcmVzaEVsZW1lbnRzKClcbiAgICBAZWxcblxuIyBVdGlsaXRpZXMgJiBTaGltc1xuXG4kID0gd2luZG93Py5qUXVlcnkgb3Igd2luZG93Py5aZXB0byBvciAoZWxlbWVudCkgLT4gZWxlbWVudFxuXG5jcmVhdGVPYmplY3QgPSBPYmplY3QuY3JlYXRlIG9yIChvKSAtPlxuICBGdW5jID0gLT5cbiAgRnVuYy5wcm90b3R5cGUgPSBvXG4gIG5ldyBGdW5jKClcblxuaXNBcnJheSA9ICh2YWx1ZSkgLT5cbiAgT2JqZWN0Ojp0b1N0cmluZy5jYWxsKHZhbHVlKSBpcyAnW29iamVjdCBBcnJheV0nXG5cbmlzQmxhbmsgPSAodmFsdWUpIC0+XG4gIHJldHVybiB0cnVlIHVubGVzcyB2YWx1ZVxuICByZXR1cm4gZmFsc2UgZm9yIGtleSBvZiB2YWx1ZVxuICB0cnVlXG5cbm1ha2VBcnJheSA9IChhcmdzKSAtPlxuICBBcnJheTo6c2xpY2UuY2FsbChhcmdzLCAwKVxuXG4jIEdsb2JhbHNcblxuU3BpbmUgPSBAU3BpbmUgICA9IHt9XG5tb2R1bGU/LmV4cG9ydHMgID0gU3BpbmVcblxuU3BpbmUudmVyc2lvbiAgICA9ICcxLjAuOSdcblNwaW5lLmlzQXJyYXkgICAgPSBpc0FycmF5XG5TcGluZS5pc0JsYW5rICAgID0gaXNCbGFua1xuU3BpbmUuJCAgICAgICAgICA9ICRcblNwaW5lLkV2ZW50cyAgICAgPSBFdmVudHNcblNwaW5lLkxvZyAgICAgICAgPSBMb2dcblNwaW5lLk1vZHVsZSAgICAgPSBNb2R1bGVcblNwaW5lLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyXG5TcGluZS5Nb2RlbCAgICAgID0gTW9kZWxcblxuIyBHbG9iYWwgZXZlbnRzXG5cbk1vZHVsZS5leHRlbmQuY2FsbChTcGluZSwgRXZlbnRzKVxuXG4jIEphdmFTY3JpcHQgY29tcGF0YWJpbGl0eVxuXG5Nb2R1bGUuY3JlYXRlID0gTW9kdWxlLnN1YiA9XG4gIENvbnRyb2xsZXIuY3JlYXRlID0gQ29udHJvbGxlci5zdWIgPVxuICAgIE1vZGVsLnN1YiA9IChpbnN0YW5jZXMsIHN0YXRpY3MpIC0+XG4gICAgICBjbGFzcyBSZXN1bHQgZXh0ZW5kcyB0aGlzXG4gICAgICBSZXN1bHQuaW5jbHVkZShpbnN0YW5jZXMpIGlmIGluc3RhbmNlc1xuICAgICAgUmVzdWx0LmV4dGVuZChzdGF0aWNzKSBpZiBzdGF0aWNzXG4gICAgICBSZXN1bHQudW5iaW5kPygpXG4gICAgICBSZXN1bHRcblxuTW9kZWwuc2V0dXAgPSAobmFtZSwgYXR0cmlidXRlcyA9IFtdKSAtPlxuICBjbGFzcyBJbnN0YW5jZSBleHRlbmRzIHRoaXNcbiAgSW5zdGFuY2UuY29uZmlndXJlKG5hbWUsIGF0dHJpYnV0ZXMuLi4pXG4gIEluc3RhbmNlXG5cblNwaW5lLkNsYXNzID0gTW9kdWxlXG4iXX0=
// Generated by CoffeeScript 1.6.1
(function() {
  var $, Controller, Events, Log, Model, Module, Spine, createObject, isArray, isBlank, makeArray, moduleKeywords,
    __slice = [].slice,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    _this = this;

  Events = {
    bind: function(ev, callback) {
      var calls, evs, name, _i, _len;
      evs = ev.split(' ');
      calls = this.hasOwnProperty('_callbacks') && this._callbacks || (this._callbacks = {});
      for (_i = 0, _len = evs.length; _i < _len; _i++) {
        name = evs[_i];
        calls[name] || (calls[name] = []);
        calls[name].push(callback);
      }
      return this;
    },
    one: function(ev, callback) {
      return this.bind(ev, function() {
        this.unbind(ev, arguments.callee);
        return callback.apply(this, arguments);
      });
    },
    trigger: function() {
      var args, callback, ev, list, _i, _len, _ref;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      ev = args.shift();
      list = this.hasOwnProperty('_callbacks') && ((_ref = this._callbacks) != null ? _ref[ev] : void 0);
      if (!list) {
        return;
      }
      for (_i = 0, _len = list.length; _i < _len; _i++) {
        callback = list[_i];
        if (callback.apply(this, args) === false) {
          break;
        }
      }
      return true;
    },
    unbind: function(ev, callback) {
      var cb, evs, i, list, name, _i, _j, _len, _len1, _ref;
      if (!ev) {
        this._callbacks = {};
        return this;
      }
      evs = ev.split(' ');
      for (_i = 0, _len = evs.length; _i < _len; _i++) {
        name = evs[_i];
        list = (_ref = this._callbacks) != null ? _ref[name] : void 0;
        if (!list) {
          continue;
        }
        if (!callback) {
          delete this._callbacks[name];
          continue;
        }
        for (i = _j = 0, _len1 = list.length; _j < _len1; i = ++_j) {
          cb = list[i];
          if (!(cb === callback)) {
            continue;
          }
          list = list.slice();
          list.splice(i, 1);
          this._callbacks[name] = list;
          break;
        }
      }
      return this;
    }
  };

  Events.on = Events.bind;

  Events.off = Events.unbind;

  Log = {
    trace: true,
    logPrefix: '(App)',
    log: function() {
      var args;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      if (!this.trace) {
        return;
      }
      if (this.logPrefix) {
        args.unshift(this.logPrefix);
      }
      if (typeof console !== "undefined" && console !== null) {
        if (typeof console.log === "function") {
          console.log.apply(console, args);
        }
      }
      return this;
    }
  };

  moduleKeywords = ['included', 'extended'];

  Module = (function() {

    Module.include = function(obj) {
      var key, value, _ref;
      if (!obj) {
        throw new Error('include(obj) requires obj');
      }
      for (key in obj) {
        value = obj[key];
        if (__indexOf.call(moduleKeywords, key) < 0) {
          this.prototype[key] = value;
        }
      }
      if ((_ref = obj.included) != null) {
        _ref.apply(this);
      }
      return this;
    };

    Module.extend = function(obj) {
      var key, value, _ref;
      if (!obj) {
        throw new Error('extend(obj) requires obj');
      }
      for (key in obj) {
        value = obj[key];
        if (__indexOf.call(moduleKeywords, key) < 0) {
          this[key] = value;
        }
      }
      if ((_ref = obj.extended) != null) {
        _ref.apply(this);
      }
      return this;
    };

    Module.proxy = function(func) {
      var _this = this;
      return function() {
        return func.apply(_this, arguments);
      };
    };

    Module.prototype.proxy = function(func) {
      var _this = this;
      return function() {
        return func.apply(_this, arguments);
      };
    };

    function Module() {
      if (typeof this.init === "function") {
        this.init.apply(this, arguments);
      }
    }

    return Module;

  })();

  Model = (function(_super) {

    __extends(Model, _super);

    Model.extend(Events);

    Model.records = {};

    Model.crecords = {};

    Model.attributes = [];

    Model.configure = function() {
      var attributes, name;
      name = arguments[0], attributes = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      this.className = name;
      this.records = {};
      this.crecords = {};
      if (attributes.length) {
        this.attributes = attributes;
      }
      this.attributes && (this.attributes = makeArray(this.attributes));
      this.attributes || (this.attributes = []);
      this.unbind();
      return this;
    };

    Model.toString = function() {
      return "" + this.className + "(" + (this.attributes.join(", ")) + ")";
    };

    Model.find = function(id) {
      var record;
      record = this.records[id];
      if (!record && ("" + id).match(/c-\d+/)) {
        return this.findCID(id);
      }
      if (!record) {
        throw new Error("\"" + this.className + "\" model could not find a record for the ID \"" + id + "\"");
      }
      return record.clone();
    };

    Model.findCID = function(cid) {
      var record;
      record = this.crecords[cid];
      if (!record) {
        throw new Error("\"" + this.className + "\" model could not find a record for the ID \"" + id + "\"");
      }
      return record.clone();
    };

    Model.exists = function(id) {
      try {
        return this.find(id);
      } catch (e) {
        return false;
      }
    };

    Model.refresh = function(values, options) {
      var record, records, _i, _len;
      if (options == null) {
        options = {};
      }
      if (options.clear) {
        this.records = {};
        this.crecords = {};
      }
      records = this.fromJSON(values);
      if (!isArray(records)) {
        records = [records];
      }
      for (_i = 0, _len = records.length; _i < _len; _i++) {
        record = records[_i];
        record.id || (record.id = record.cid);
        this.records[record.id] = record;
        this.crecords[record.cid] = record;
      }
      this.trigger('refresh', this.cloneArray(records));
      return this;
    };

    Model.select = function(callback) {
      var id, record, result;
      result = (function() {
        var _ref, _results;
        _ref = this.records;
        _results = [];
        for (id in _ref) {
          record = _ref[id];
          if (callback(record)) {
            _results.push(record);
          }
        }
        return _results;
      }).call(this);
      return this.cloneArray(result);
    };

    Model.findByAttribute = function(name, value) {
      var id, record, _ref;
      _ref = this.records;
      for (id in _ref) {
        record = _ref[id];
        if (record[name] === value) {
          return record.clone();
        }
      }
      return null;
    };

    Model.findAllByAttribute = function(name, value) {
      return this.select(function(item) {
        return item[name] === value;
      });
    };

    Model.each = function(callback) {
      var key, value, _ref, _results;
      _ref = this.records;
      _results = [];
      for (key in _ref) {
        value = _ref[key];
        _results.push(callback(value.clone()));
      }
      return _results;
    };

    Model.all = function() {
      return this.cloneArray(this.recordsValues());
    };

    Model.first = function() {
      var record;
      record = this.recordsValues()[0];
      return record != null ? record.clone() : void 0;
    };

    Model.last = function() {
      var record, values;
      values = this.recordsValues();
      record = values[values.length - 1];
      return record != null ? record.clone() : void 0;
    };

    Model.count = function() {
      return this.recordsValues().length;
    };

    Model.deleteAll = function() {
      var key, value, _ref, _results;
      _ref = this.records;
      _results = [];
      for (key in _ref) {
        value = _ref[key];
        _results.push(delete this.records[key]);
      }
      return _results;
    };

    Model.destroyAll = function(options) {
      var key, value, _ref, _results;
      _ref = this.records;
      _results = [];
      for (key in _ref) {
        value = _ref[key];
        _results.push(this.records[key].destroy(options));
      }
      return _results;
    };

    Model.update = function(id, atts, options) {
      return this.find(id).updateAttributes(atts, options);
    };

    Model.create = function(atts, options) {
      var record;
      record = new this(atts);
      return record.save(options);
    };

    Model.destroy = function(id, options) {
      return this.find(id).destroy(options);
    };

    Model.change = function(callbackOrParams) {
      if (typeof callbackOrParams === 'function') {
        return this.bind('change', callbackOrParams);
      } else {
        return this.trigger('change', callbackOrParams);
      }
    };

    Model.fetch = function(callbackOrParams) {
      if (typeof callbackOrParams === 'function') {
        return this.bind('fetch', callbackOrParams);
      } else {
        return this.trigger('fetch', callbackOrParams);
      }
    };

    Model.toJSON = function() {
      return this.recordsValues();
    };

    Model.fromJSON = function(objects) {
      var value, _i, _len, _results;
      if (!objects) {
        return;
      }
      if (typeof objects === 'string') {
        objects = JSON.parse(objects);
      }
      if (isArray(objects)) {
        _results = [];
        for (_i = 0, _len = objects.length; _i < _len; _i++) {
          value = objects[_i];
          _results.push(new this(value));
        }
        return _results;
      } else {
        return new this(objects);
      }
    };

    Model.fromForm = function() {
      var _ref;
      return (_ref = new this).fromForm.apply(_ref, arguments);
    };

    Model.recordsValues = function() {
      var key, result, value, _ref;
      result = [];
      _ref = this.records;
      for (key in _ref) {
        value = _ref[key];
        result.push(value);
      }
      return result;
    };

    Model.cloneArray = function(array) {
      var value, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = array.length; _i < _len; _i++) {
        value = array[_i];
        _results.push(value.clone());
      }
      return _results;
    };

    Model.idCounter = 0;

    Model.uid = function(prefix) {
      var uid;
      if (prefix == null) {
        prefix = '';
      }
      uid = prefix + this.idCounter++;
      if (this.exists(uid)) {
        uid = this.uid(prefix);
      }
      return uid;
    };

    function Model(atts) {
      Model.__super__.constructor.apply(this, arguments);
      if (atts) {
        this.load(atts);
      }
      this.cid = this.constructor.uid('c-');
    }

    Model.prototype.isNew = function() {
      return !this.exists();
    };

    Model.prototype.isValid = function() {
      return !this.validate();
    };

    Model.prototype.validate = function() {};

    Model.prototype.load = function(atts) {
      var key, value;
      for (key in atts) {
        value = atts[key];
        if (typeof this[key] === 'function') {
          this[key](value);
        } else {
          this[key] = value;
        }
      }
      return this;
    };

    Model.prototype.attributes = function() {
      var key, result, _i, _len, _ref;
      result = {};
      _ref = this.constructor.attributes;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        key = _ref[_i];
        if (key in this) {
          if (typeof this[key] === 'function') {
            result[key] = this[key]();
          } else {
            result[key] = this[key];
          }
        }
      }
      if (this.id) {
        result.id = this.id;
      }
      return result;
    };

    Model.prototype.eql = function(rec) {
      return !!(rec && rec.constructor === this.constructor && (rec.cid === this.cid) || (rec.id && rec.id === this.id));
    };

    Model.prototype.save = function(options) {
      var error, record;
      if (options == null) {
        options = {};
      }
      if (options.validate !== false) {
        error = this.validate();
        if (error) {
          this.trigger('error', error);
          return false;
        }
      }
      this.trigger('beforeSave', options);
      record = this.isNew() ? this.create(options) : this.update(options);
      this.stripCloneAttrs();
      this.trigger('save', options);
      return record;
    };

    Model.prototype.stripCloneAttrs = function() {
      var key, value;
      if (this.hasOwnProperty('cid')) {
        return;
      }
      for (key in this) {
        if (!__hasProp.call(this, key)) continue;
        value = this[key];
        if (this.constructor.attributes.indexOf(key) > -1) {
          delete this[key];
        }
      }
      return this;
    };

    Model.prototype.updateAttribute = function(name, value, options) {
      var atts;
      atts = {};
      atts[name] = value;
      return this.updateAttributes(atts, options);
    };

    Model.prototype.updateAttributes = function(atts, options) {
      this.load(atts);
      return this.save(options);
    };

    Model.prototype.changeID = function(id) {
      var records;
      records = this.constructor.records;
      records[id] = records[this.id];
      delete records[this.id];
      this.id = id;
      return this.save();
    };

    Model.prototype.destroy = function(options) {
      if (options == null) {
        options = {};
      }
      this.trigger('beforeDestroy', options);
      delete this.constructor.records[this.id];
      delete this.constructor.crecords[this.cid];
      this.destroyed = true;
      this.trigger('destroy', options);
      this.trigger('change', 'destroy', options);
      this.unbind();
      return this;
    };

    Model.prototype.dup = function(newRecord) {
      var result;
      result = new this.constructor(this.attributes());
      if (newRecord === false) {
        result.cid = this.cid;
      } else {
        delete result.id;
      }
      return result;
    };

    Model.prototype.clone = function() {
      return createObject(this);
    };

    Model.prototype.reload = function() {
      var original;
      if (this.isNew()) {
        return this;
      }
      original = this.constructor.find(this.id);
      this.load(original.attributes());
      return original;
    };

    Model.prototype.toJSON = function() {
      return this.attributes();
    };

    Model.prototype.toString = function() {
      return "<" + this.constructor.className + " (" + (JSON.stringify(this)) + ")>";
    };

    Model.prototype.fromForm = function(form) {
      var key, result, _i, _len, _ref;
      result = {};
      _ref = $(form).serializeArray();
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        key = _ref[_i];
        result[key.name] = key.value;
      }
      return this.load(result);
    };

    Model.prototype.exists = function() {
      return this.id && this.id in this.constructor.records;
    };

    Model.prototype.update = function(options) {
      var clone, records;
      this.trigger('beforeUpdate', options);
      records = this.constructor.records;
      records[this.id].load(this.attributes());
      clone = records[this.id].clone();
      clone.trigger('update', options);
      clone.trigger('change', 'update', options);
      return clone;
    };

    Model.prototype.create = function(options) {
      var clone, record;
      this.trigger('beforeCreate', options);
      if (!this.id) {
        this.id = this.cid;
      }
      record = this.dup(false);
      this.constructor.records[this.id] = record;
      this.constructor.crecords[this.cid] = record;
      clone = record.clone();
      clone.trigger('create', options);
      clone.trigger('change', 'create', options);
      return clone;
    };

    Model.prototype.bind = function(events, callback) {
      var binder, unbinder,
        _this = this;
      this.constructor.bind(events, binder = function(record) {
        if (record && _this.eql(record)) {
          return callback.apply(_this, arguments);
        }
      });
      this.constructor.bind('unbind', unbinder = function(record) {
        if (record && _this.eql(record)) {
          _this.constructor.unbind(events, binder);
          return _this.constructor.unbind('unbind', unbinder);
        }
      });
      return binder;
    };

    Model.prototype.one = function(events, callback) {
      var binder,
        _this = this;
      return binder = this.bind(events, function() {
        _this.constructor.unbind(events, binder);
        return callback.apply(_this, arguments);
      });
    };

    Model.prototype.trigger = function() {
      var args, _ref;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      args.splice(1, 0, this);
      return (_ref = this.constructor).trigger.apply(_ref, args);
    };

    Model.prototype.unbind = function() {
      return this.trigger('unbind');
    };

    return Model;

  })(Module);

  Controller = (function(_super) {

    __extends(Controller, _super);

    Controller.include(Events);

    Controller.include(Log);

    Controller.prototype.eventSplitter = /^(\S+)\s*(.*)$/;

    Controller.prototype.tag = 'div';

    function Controller(options) {
      var key, value, _ref,
        _this = this;
      this.release = function() {
        return Controller.prototype.release.apply(_this, arguments);
      };
      this.options = options;
      _ref = this.options;
      for (key in _ref) {
        value = _ref[key];
        this[key] = value;
      }
      if (!this.el) {
        this.el = document.createElement(this.tag);
      }
      this.el = $(this.el);
      this.$el = this.el;
      if (this.className) {
        this.el.addClass(this.className);
      }
      if (this.attributes) {
        this.el.attr(this.attributes);
      }
      if (!this.events) {
        this.events = this.constructor.events;
      }
      if (!this.elements) {
        this.elements = this.constructor.elements;
      }
      if (this.events) {
        this.delegateEvents(this.events);
      }
      if (this.elements) {
        this.refreshElements();
      }
      Controller.__super__.constructor.apply(this, arguments);
    }

    Controller.prototype.release = function() {
      this.trigger('release');
      this.el.remove();
      return this.unbind();
    };

    Controller.prototype.$ = function(selector) {
      return $(selector, this.el);
    };

    Controller.prototype.delegateEvents = function(events) {
      var eventName, key, match, method, selector, _results,
        _this = this;
      _results = [];
      for (key in events) {
        method = events[key];
        if (typeof method === 'function') {
          method = (function(method) {
            return function() {
              method.apply(_this, arguments);
              return true;
            };
          })(method);
        } else {
          if (!this[method]) {
            throw new Error("" + method + " doesn't exist");
          }
          method = (function(method) {
            return function() {
              _this[method].apply(_this, arguments);
              return true;
            };
          })(method);
        }
        match = key.match(this.eventSplitter);
        eventName = match[1];
        selector = match[2];
        if (selector === '') {
          _results.push(this.el.bind(eventName, method));
        } else {
          _results.push(this.el.delegate(selector, eventName, method));
        }
      }
      return _results;
    };

    Controller.prototype.refreshElements = function() {
      var key, value, _ref, _results;
      _ref = this.elements;
      _results = [];
      for (key in _ref) {
        value = _ref[key];
        _results.push(this[value] = this.$(key));
      }
      return _results;
    };

    Controller.prototype.delay = function(func, timeout) {
      return setTimeout(this.proxy(func), timeout || 0);
    };

    Controller.prototype.html = function(element) {
      this.el.html(element.el || element);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.append = function() {
      var e, elements, _ref;
      elements = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      elements = (function() {
        var _i, _len, _results;
        _results = [];
        for (_i = 0, _len = elements.length; _i < _len; _i++) {
          e = elements[_i];
          _results.push(e.el || e);
        }
        return _results;
      })();
      (_ref = this.el).append.apply(_ref, elements);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.appendTo = function(element) {
      this.el.appendTo(element.el || element);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.prepend = function() {
      var e, elements, _ref;
      elements = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      elements = (function() {
        var _i, _len, _results;
        _results = [];
        for (_i = 0, _len = elements.length; _i < _len; _i++) {
          e = elements[_i];
          _results.push(e.el || e);
        }
        return _results;
      })();
      (_ref = this.el).prepend.apply(_ref, elements);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.replace = function(element) {
      var previous, _ref;
      _ref = [this.el, $(element.el || element)], previous = _ref[0], this.el = _ref[1];
      previous.replaceWith(this.el);
      this.delegateEvents(this.events);
      this.refreshElements();
      return this.el;
    };

    return Controller;

  })(Module);

  $ = (typeof window !== "undefined" && window !== null ? window.jQuery : void 0) || (typeof window !== "undefined" && window !== null ? window.Zepto : void 0) || function(element) {
    return element;
  };

  createObject = Object.create || function(o) {
    var Func;
    Func = function() {};
    Func.prototype = o;
    return new Func();
  };

  isArray = function(value) {
    return Object.prototype.toString.call(value) === '[object Array]';
  };

  isBlank = function(value) {
    var key;
    if (!value) {
      return true;
    }
    for (key in value) {
      return false;
    }
    return true;
  };

  makeArray = function(args) {
    return Array.prototype.slice.call(args, 0);
  };

  Spine = this.Spine = {};

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Spine;
  }

  Spine.version = '1.0.9';

  Spine.isArray = isArray;

  Spine.isBlank = isBlank;

  Spine.$ = $;

  Spine.Events = Events;

  Spine.Log = Log;

  Spine.Module = Module;

  Spine.Controller = Controller;

  Spine.Model = Model;

  Module.extend.call(Spine, Events);

  Module.create = Module.sub = Controller.create = Controller.sub = Model.sub = function(instances, statics) {
    var Result;
    Result = (function(_super) {

      __extends(Result, _super);

      function Result() {
        return Result.__super__.constructor.apply(this, arguments);
      }

      return Result;

    })(this);
    if (instances) {
      Result.include(instances);
    }
    if (statics) {
      Result.extend(statics);
    }
    if (typeof Result.unbind === "function") {
      Result.unbind();
    }
    return Result;
  };

  Model.setup = function(name, attributes) {
    var Instance;
    if (attributes == null) {
      attributes = [];
    }
    Instance = (function(_super) {

      __extends(Instance, _super);

      function Instance() {
        return Instance.__super__.constructor.apply(this, arguments);
      }

      return Instance;

    })(this);
    Instance.configure.apply(Instance, [name].concat(__slice.call(attributes)));
    return Instance;
  };

  Spine.Class = Module;

}).call(this);
